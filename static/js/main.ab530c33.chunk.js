(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,a){e.exports=a(254)},124:function(e,t,a){},128:function(e,t,a){},163:function(e,t,a){},166:function(e,t,a){},195:function(e,t,a){},254:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),l=a(18),i=a.n(l),r=(a(124),a(8)),o=a(9),c=a(11),u=a(10),m=a(12),d=a(4),p=a(258),_=(a(126),a(128),"https://pothole.ml/filepond-api"),h="https://nirbhayph.github.io/pothole-detection/#",E="https://www.northridgenow.org/wp-content/uploads/2017/09/color-gradient-wallpaper-4.jpg",b=a(55),g=(a(131),a(102)),f=a.n(g),k=a(103),v=a.n(k),x=a(104),y=a.n(x),j=a(105),O=a.n(j);a(133);Object(b.registerPlugin)(f.a,v.a,y.a,O.a);var w,N,S,I=[],C=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onLoad=function(e){if(e.includes("Success")){var t=e.split("_");I.push(t[1]),w.state.enableNext()}},a.state={files:[""],_session_:e.session,enableNext:e.enableNext},w=Object(d.a)(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleInit",value:function(){console.log("Pothole Detection App")}},{key:"render",value:function(e){var t=this,a=this.state._session_;return s.a.createElement("div",{className:"App"},s.a.createElement(b.FilePond,{ref:function(e){return t.pond=e},allowFileSizeValidation:!0,maxFileSize:"2MB",acceptedFileTypes:["image/png","image/jpg","image/jpeg","video/mp4","video/avi"],allowMultiple:!0,labelFileProcessingComplete:"Upload Complete",maxFiles:9,allowRevert:!1,labelIdle:'Drag & Drop your files or <span class="filepond--label-action">Browse</span><br/> <i>Acceptable file types: .png, .jpg, .jpeg, .mp4, .avi</i>',server:{url:_+"/file_upload.php?session_folder_name="+a,process:{onload:this.onLoad}},oninit:function(){return t.handleInit()},onupdatefiles:function(e){t.setState({files:e.map(function(e){return e.file})})}},this.state.files.map(function(e){return s.a.createElement(b.File,{key:e,src:e,origin:"local"})})))}}]),t}(n.Component),T=a(30),F=a.n(T),A=a(3),M=(a(15),a(116)),D=function(e){return window.innerWidth>=992?s.a.createElement("div",null,s.a.createElement(A.a,{color:"primary"},"Desktop users press enter to start, and arrow keys to play!"),s.a.createElement("br",null),s.a.createElement(M.a,{style:{width:"50px",height:"100px"}})):s.a.createElement("div",null)},P=a(39),L=function(e){return s.a.createElement(P.Terminal,null,s.a.createElement("div",null,s.a.createElement("div",{style:{display:e.loading_state}},s.a.createElement("center",null,s.a.createElement("img",{src:"https://loading.io/spinners/dual-ring/lg.dual-ring-loader.gif",height:"50px",width:"50px",alt:"spinner"}),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(D,null))),s.a.createElement("pre",{style:{textAlign:"left",marginLeft:"20px",color:"#fff"}},e.response),s.a.createElement(A.a,{style:{display:e.alert_display},color:"primary"},e.alert_label),s.a.createElement("a",{href:e.output_text_file_link,target:"_blank",rel:"noopener noreferrer"},e.output_text_file_label)),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null))},H="https://pothole.ml/pothole_detection/pot_model/process.php?session_folder_name=",B=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={_session_:H+e.session,_session:e.session,response:"",output_generated_label:"",output_text_file_link:"",output_text_file_label:"",loading_gif_state:"inline",enableNext:e.enableNext,media_processed_label:"",alert_display:"none"};var n=Object(d.a)(Object(d.a)(a));return F.a.get(a.state._session_).then(function(e){n.setState({loading_state:"none",response:"\n"+e.data+"\n",output_generated_label:"Output Text File Generated\n",output_text_file_label:"Output Text File",output_text_file_link:_+"/uploads/"+n.state._session+"/out/"+n.state._session+".txt",media_processed_label:"Media File(s) have been Processed!",alert_display:"block"}),n.state.enableNext()}),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(A.a,{style:{display:this.state.alert_display},color:"secondary"},this.state.media_processed_label),s.a.createElement(L,{loading_state:this.state.loading_state,response:this.state.response,alert_display:this.state.alert_display,alert_label:this.state.output_generated_label,output_text_file_link:this.state.output_text_file_link,output_text_file_label:this.state.output_text_file_label}))}}]),t}(n.Component),J=(a(163),a(109)),R=a.n(J),G=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getInnerJSX",value:function(){return"image"===this.props.data.type?(console.log(this.props.data.type),s.a.createElement("center",null,s.a.createElement("div",{style:{border:"2px solid #666666",backgroundImage:"url("+E+")"},width:365,height:365},s.a.createElement(R.a,{src:this.props.data.src,width:360,height:360,alt:this.props.data.altText})))):"video"===this.props.data.type?s.a.createElement("center",null,s.a.createElement("div",{style:{border:"2px solid #666666",backgroundImage:"url("+E+")"},width:365,height:365},s.a.createElement("video",{key:this.props.data,controls:!0,style:{verticalAlign:"middle"}},s.a.createElement("source",{src:this.props.data.src,type:"video/mp4"}),"Your browser does not support the video tag."))):void 0}},{key:"render",value:function(){return s.a.createElement("div",null,this.getInnerJSX())}}]),t}(n.Component),V=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={activeIndex:0},a.next=a.next.bind(Object(d.a)(Object(d.a)(a))),a.previous=a.previous.bind(Object(d.a)(Object(d.a)(a))),a.goToIndex=a.goToIndex.bind(Object(d.a)(Object(d.a)(a))),a.onExiting=a.onExiting.bind(Object(d.a)(Object(d.a)(a))),a.onExited=a.onExited.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onExiting",value:function(){this.animating=!0}},{key:"onExited",value:function(){this.animating=!1}},{key:"next",value:function(){if(!this.animating){var e=this.state.activeIndex===this.props.mediaData.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e})}}},{key:"previous",value:function(){if(!this.animating){var e=0===this.state.activeIndex?this.props.mediaData.length-1:this.state.activeIndex-1;this.setState({activeIndex:e})}}},{key:"goToIndex",value:function(e){this.animating||this.setState({activeIndex:e})}},{key:"render",value:function(){var e=this,t=this.state.activeIndex,a=this.props.mediaData.map(function(t){return s.a.createElement(A.h,{onExiting:e.onExiting,onExited:e.onExited,key:t.src},s.a.createElement(G,{data:t}),s.a.createElement(A.e,{captionText:t.caption,captionHeader:""}))});return s.a.createElement(A.d,{activeIndex:t,next:this.next,previous:this.previous},s.a.createElement(A.g,{items:this.props.mediaData,activeIndex:t,onClickHandler:this.goToIndex}),a,s.a.createElement(A.f,{direction:"prev",directionText:"Previous",onClickHandler:this.previous}),s.a.createElement(A.f,{direction:"next",directionText:"Next",onClickHandler:this.next}))}}]),t}(n.Component),W=function(e){return s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("center",null,s.a.createElement("a",{href:e.add_more_link,style:{color:"#fff"},className:"btn btn-primary",role:"button"},e.button_text),s.a.createElement("br",null))))},U=(a(166),function(e){return s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("p",null,s.a.createElement("a",{target:"_blank",href:e.output_text_link,download:!0,rel:"noopener noreferrer"},s.a.createElement(A.c,{color:"info"},"View Raw .txt Output")))),s.a.createElement(P.Terminal,null,s.a.createElement(A.a,{color:"primary"},".txt Output"),s.a.createElement("pre",{className:"pre-style"},e.output_text_data)),s.a.createElement("br",null))}),z=a(110),X=a.n(z),Y=function(e){return s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement("p",null,s.a.createElement("a",{target:"_blank",href:e.generate_json_link,download:!0,rel:"noopener noreferrer"},s.a.createElement(A.c,{color:"warning"},"View Raw .json Output")))),s.a.createElement(P.Terminal,null,s.a.createElement(A.a,{color:"primary"},".json Output"),s.a.createElement(X.a,{src:e.output_json_data,theme:"monokai",style:{textAlign:"left"}})))},$=a(25),q=(a(195),function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(A.j,null,s.a.createElement(A.l,null,s.a.createElement(A.i,{sm:"2"}),s.a.createElement(A.i,{className:"social_button"},s.a.createElement($.Linkedin,{className:"social_btn",solid:!0,small:!0,message:this.props.message,link:this.props.share_link})),s.a.createElement(A.i,{className:"social_button"},s.a.createElement($.Twitter,{className:"social_btn",solid:!0,small:!0,message:this.props.message,link:this.props.share_link})),s.a.createElement(A.i,{className:"social_button"},s.a.createElement($.Whatsapp,{className:"social_btn",solid:!0,small:!0,message:this.props.message,link:this.props.share_link})),s.a.createElement(A.i,{className:"social_button"},s.a.createElement($.Facebook,{className:"social_btn",solid:!0,small:!0,message:this.props.message,link:this.props.share_link})),s.a.createElement(A.i,{className:"social_button"},s.a.createElement($.Reddit,{className:"social_btn",solid:!0,small:!0,message:this.props.message,link:this.props.share_link})),s.a.createElement(A.i,{className:"social_button"},s.a.createElement($.Google,{className:"social_btn",solid:!0,small:!0,message:this.props.message,link:this.props.share_link})),s.a.createElement(A.i,{className:"social_button"},s.a.createElement($.Mail,{className:"social_btn",solid:!0,small:!0,message:this.props.message,link:this.props.share_link})),s.a.createElement(A.i,{className:"social_button"},s.a.createElement($.HackerNews,{className:"social_btn",solid:!0,small:!0,message:this.props.message,link:this.props.share_link})),s.a.createElement(A.i,{sm:"2"})))}}]),t}(s.a.Component)),K=function(e){return s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("p",null,s.a.createElement(A.a,{color:"primary"},s.a.createElement("h4",null,"Session Number",s.a.createElement("br",null),s.a.createElement(A.b,{color:"secondary"},e.session_no)),s.a.createElement("br",null),s.a.createElement(q,{share_link:e.link,message:e.message})))))},Q=function(e){return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(A.a,{color:e.color},s.a.createElement("h4",null,e.alert_message,s.a.createElement("br",null)," ",s.a.createElement(A.b,{color:"secondary"},e._session)))),s.a.createElement("br",null))},Z=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={_session:e.session,get_json_link:_+"/getLinks.php?session_folder_name=",json_data_media:[],output_text_file_link:_+"/uploads/"+e.session+"/out/"+e.session+".txt",generate_json_link:_+"/generateJSON.php?session_folder_name="+e.session,generate_text_link:_+"/getTextOutput.php?session_folder_name="+e.session,json_output_data:[],text_output_data:[],share_link:h+"/display/"+e.session,from_shared_link:!1,add_more_link:h+"/"+e.session},a.state._session||(a.state={_session:a.props.match.params.id,get_json_link:_+"/getLinks.php?session_folder_name=",json_data_media:[],output_text_file_link:_+"/uploads/"+a.props.match.params.id+"/out/"+a.props.match.params.id+".txt",generate_json_link:_+"/generateJSON.php?session_folder_name="+a.props.match.params.id,generate_text_link:_+"/getTextOutput.php?session_folder_name="+a.props.match.params.id,json_output_data:[],text_output_data:[],share_link:h+"/display/"+a.props.match.params.id,from_shared_link:!0,add_more_link:h+"/"+a.props.match.params.id}),N=Object(d.a)(Object(d.a)(a)),F.a.get(a.state.get_json_link+a.state._session).then(function(e){N.setState({json_data_media:e.data})}),F.a.get(a.state.generate_text_link).then(function(e){N.setState({text_output_data:e.data})}),F.a.get(a.state.generate_json_link).then(function(e){N.setState({json_output_data:e.data})}),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"addMore",value:function(){console.log(this.add_more_link),window.location.assign(this.state.add_more_link),window.location.reload()}},{key:"checkForContinueSessionButtons",value:function(){var e=this;if(this.state.json_data_media&&this.state.json_data_media.length>0&&this.state.from_shared_link)return s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement(W,{button_text:"Start Afresh",add_more_link:"https://nirbhayph.github.io/pothole-detection"}),s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement(A.c,{color:"primary",onClick:function(){return e.addMore()}},"Add some other image(s)/video(s)"))))}},{key:"getSessionNotExistMessage",value:function(){return s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement(A.j,null,s.a.createElement("center",null,s.a.createElement(Q,{session_no:this.state._session,color:"danger",alert_message:"Session Number Does Not Exist!!"}),s.a.createElement(W,{button_text:"Start Afresh",add_more_link:"https://nirbhayph.github.io/pothole-detection"}))))}},{key:"checkAndGetOutput",value:function(){return this.state.json_data_media&&this.state.json_data_media.length>0?s.a.createElement("div",null,s.a.createElement(A.j,null,s.a.createElement(K,{session_no:this.state._session,link:this.state.share_link,message:"Hey, view my test media for potholes detected! You can add your own to it too! Happy detecting and spreading the word!!"})),s.a.createElement(A.j,null,s.a.createElement(V,{mediaData:this.state.json_data_media})),s.a.createElement(A.j,null,s.a.createElement(A.l,null,s.a.createElement(A.i,{xs:"12",sm:"6"},s.a.createElement(U,{output_text_link:this.state.output_text_file_link,output_text_data:this.state.text_output_data})),s.a.createElement(A.i,{sm:"6"},s.a.createElement(Y,{generate_json_link:this.state.generate_json_link,output_json_data:this.state.json_output_data}))))):s.a.createElement("div",null,this.getSessionNotExistMessage())}},{key:"render",value:function(){return s.a.createElement("div",null,this.checkAndGetOutput(),this.checkForContinueSessionButtons(),s.a.createElement("br",null),s.a.createElement("br",null))}}]),t}(n.Component),ee=p.a.Step,te=[],ae=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={current:0,disabled:!0,session_folder_name:a.props.route_session_id,add_more_link:h+"/"+a.props.route_session_id},S=Object(d.a)(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"enableNext",value:function(){S.setState({disabled:!1})}},{key:"next",value:function(){var e=this.state.current+1;this.setState({current:e}),S.setState({disabled:!0})}},{key:"afresh",value:function(){window.location.reload()}},{key:"addMore",value:function(){console.log(this.add_more_link),window.location.assign(this.state.add_more_link),window.location.reload()}},{key:"render",value:function(){var e=this,t=this.state.current;return te=[{title:"Upload Media File(s)",content:s.a.createElement(C,{session:this.state.session_folder_name,enableNext:S.enableNext})},{title:"Process File(s)",content:s.a.createElement(B,{session:this.state.session_folder_name,enableNext:S.enableNext})},{title:"Get Result(s)",content:s.a.createElement(Z,{session:this.state.session_folder_name})}],s.a.createElement("div",{className:"steps-main"},s.a.createElement(p.a,{current:t},te.map(function(e){return s.a.createElement(ee,{key:e.title,title:e.title})})),s.a.createElement("div",{className:"steps-content"},te[t].content),s.a.createElement("div",{className:"steps-action"},t<te.length-1&&s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement(A.c,{color:"primary",style:{width:"60%"},disabled:this.state.disabled,onClick:function(){return e.next()}},"Next"))),t===te.length-1&&s.a.createElement("p",null,s.a.createElement("center",null,s.a.createElement(A.c,{color:"primary",onClick:function(){return e.afresh()}},"Start Afresh"))),t===te.length-1&&s.a.createElement("p",null,s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement(A.c,{color:"primary",onClick:function(){return e.addMore()}},"Add some other image(s)/video(s)")))))}}]),t}(s.a.Component),ne=function(e){return s.a.createElement("center",null,s.a.createElement(Q,{color:"danger",alert_message:"404: Pothole Not Found. Lost your way or just here to play the game ?",_session:e.route_session_id}),s.a.createElement(D,null),s.a.createElement("br",null),s.a.createElement("br",null))},se=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.match.params.id?F.a.get(_+"/validateSession.php?session_folder_name="+this.props.match.params.id).then(function(t){"Valid"===t.data?e.setState({route_session_id:e.props.match.params.id,access_granted:!0,existing_session:!0}):e.setState({route_session_id:"Invalid Access Entries",invalid_access:!0})}):this.setState({route_session_id:Math.round(1e3*Math.random())*Date.now(),access_granted:!0,new_session:!0})}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},this.state&&this.state.route_session_id&&this.state.access_granted&&this.state.new_session&&s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement(Q,{color:"primary",alert_message:"New Session Created",_session:this.state.route_session_id})),s.a.createElement(ae,{route_session_id:this.state.route_session_id})),this.state&&this.state.route_session_id&&this.state.access_granted&&this.state.existing_session&&s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement(Q,{color:"secondary",alert_message:"Existing Session",_session:this.state.route_session_id})),s.a.createElement(ae,{route_session_id:this.state.route_session_id})),this.state&&this.state.route_session_id&&this.state.invalid_access&&s.a.createElement(ne,{_session:this.state.route_session_id}))}}]),t}(n.Component),le=a(257),ie=a(259),re=a(260);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=function(e){return s.a.createElement("div",{className:"container"},s.a.createElement(A.k,null,s.a.createElement("h2",null,"Pothole detection by uploading media!"),s.a.createElement("p",{className:"lead"},"This phase of the application is divided into three main segments."),s.a.createElement("hr",{className:"my-2"}),s.a.createElement("p",null,"Upload your media file(s), wait for them to get processed and finally see your predicted outputs and download the logs too!"),s.a.createElement("p",{className:"lead"},s.a.createElement("a",{href:"https://nirbhayph.github.io/pothole-detection",className:"btn btn-primary",role:"button"},"Start Detecting!"))))},ce=function(e){return s.a.createElement(A.j,null,s.a.createElement("br",null),s.a.createElement("center",null,s.a.createElement(A.a,{color:"primary"},"Made with ",s.a.createElement("b",{style:{color:"#440000"}},"Love")," using ",s.a.createElement("b",null,s.a.createElement("a",{href:"https://reactjs.org/",target:"_blank",rel:"noopener noreferrer"},"React"))," by ",s.a.createElement("b",null,s.a.createElement("a",{href:"https://github.com/nirbhayph",target:"_blank",rel:"noopener noreferrer"},"@nirbhayph"))," and ",s.a.createElement("b",null,s.a.createElement("a",{href:"https://github.com/dhirensc",target:"_blank",rel:"noopener noreferrer"},"@dhirensc")))))},ue=s.a.createElement(le.a,{basename:"/pothole-detection"},s.a.createElement("div",null,s.a.createElement(oe,null),s.a.createElement(ie.a,null,s.a.createElement(re.a,{exact:!0,path:"/",component:se}),s.a.createElement(re.a,{exact:!0,path:"/:id",component:se}),s.a.createElement(re.a,{exact:!0,path:"/display/:id",component:Z}),s.a.createElement(re.a,{component:ne})),s.a.createElement(ce,null)));i.a.render(ue,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[119,2,1]]]);
//# sourceMappingURL=main.ab530c33.chunk.js.map